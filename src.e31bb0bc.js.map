{"version":3,"sources":["index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["CountdownTimer","selector","targetDate","intervalId","document","querySelector","setTimer","time","getTimeComponents","updateTimerFace","setInterval","currentTime","Date","now","deltaTime","clearInterval","init","days","hours","mins","secs","textContent","pad","Math","floor","value","String","padStart","myTimer","window","onload","start","refs","inputEl","btnEl","inputValue","addEventListener","onInputBlur","e","target","updateTargetDateOnClick","console","log","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","remove","href","split","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["// подключение стилей\r\nimport './main.css';\r\n\r\n// класс таймера обратного отсчета\r\n\r\nclass CountdownTimer {\r\n  constructor({ selector, targetDate }) {\r\n    this.intervalId = null;\r\n    this.selector = document.querySelector(`${selector}`);\r\n    this.targetDate = targetDate;\r\n    this.setTimer();\r\n  }\r\n\r\n  // очищает интерфейс до формата 00:00:00\r\n  init() {\r\n    const time = this.getTimeComponents(0);\r\n    this.updateTimerFace(time);\r\n  }\r\n\r\n  // таймер\r\n  start() {\r\n    this.intervalId = setInterval(() => {\r\n      this.setTimer();\r\n    }, 1000);\r\n  }\r\n\r\n  // устанавливает значение таймера\r\n\r\n  setTimer() {\r\n    const currentTime = Date.now();\r\n    const deltaTime = this.targetDate - currentTime;\r\n\r\n    // предотвращаем появление отрицательного времени\r\n    if (deltaTime <= 0) {\r\n      clearInterval(this.intervalId);\r\n      this.init();\r\n      return;\r\n    }\r\n\r\n    const time = this.getTimeComponents(deltaTime);\r\n    this.updateTimerFace(time);\r\n  }\r\n\r\n  // обновляет интерфейс\r\n  updateTimerFace({ days, hours, mins, secs }) {\r\n    this.selector.querySelector('[data-value=\"days\"]').textContent = days;\r\n    this.selector.querySelector('[data-value=\"hours\"]').textContent = hours;\r\n    this.selector.querySelector('[data-value=\"mins\"]').textContent = mins;\r\n    this.selector.querySelector('[data-value=\"secs\"]').textContent = secs;\r\n  }\r\n\r\n  // принимает время в мс, вычисляет необходимые величины времени\r\n  getTimeComponents(time) {\r\n    const days = this.pad(Math.floor(time / (1000 * 60 * 60 * 24)));\r\n    const hours = this.pad(\r\n      Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\r\n    );\r\n    const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\r\n    const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\r\n\r\n    return { days, hours, mins, secs };\r\n  }\r\n\r\n  // Принимает число, приводит к строке и добавляет в начало 0 если число меньше 2-х знаков\r\n  pad(value) {\r\n    return String(value).padStart(2, '0');\r\n  }\r\n}\r\n\r\n// создаем экземпляр согласно задания\r\nconst myTimer = new CountdownTimer({\r\n  selector: '#timer-1',\r\n  targetDate: new Date('Nov 25, 2020 10:57 AM'),\r\n});\r\n\r\n// запускаем при загрузке страницы\r\nwindow.onload = myTimer.start();\r\n\r\n// перезапуск таймера по кастомной дате\r\n\r\nconst refs = {\r\n  inputEl: document.querySelector('#timer-input'),\r\n  btnEl: document.querySelector('.timer-btn'),\r\n};\r\n\r\nlet inputValue = '';\r\n\r\nrefs.inputEl.addEventListener('blur', onInputBlur);\r\n\r\nfunction onInputBlur(e) {\r\n  inputValue = e.target.value;\r\n}\r\n\r\nfunction updateTargetDateOnClick(e) {\r\n  myTimer.targetDate = new Date(inputValue);\r\n  console.log(myTimer.targetDate);\r\n  window.onload = myTimer.start();\r\n}\r\n\r\nrefs.btnEl.addEventListener('click', updateTargetDateOnClick);\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}